@{
    ViewBag.Title = "LienHe";
    Layout = "~/Views/Shared/_Layout_.cshtml";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liên hệ</title>
    <link rel="stylesheet" href="../Content/lienhecss.css">
    <style>
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 9999; 
        }

        .popup {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 400px;
        }

        .close-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
            margin-top: 15px;
        }

        .close-btn:hover {
                background-color: #0056b3;
        }

        .lh{
                position:relative;
                margin-bottom:20px;
        }
        .falling-leaf {
            width: 40px;
            height: auto;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <br />
    <center>
        <h2 class="lh" style="font-size: 60px; font-weight: 800; font-family:VnArial NarrowH">LIÊN HỆ</h2>
        @if (ViewBag.MesageLienHe != null)
        {
            <div class="overlay" id="popupOverlay">
                <div class="popup">
                    <h3>Thông báo</h3>
                    <p>@ViewBag.MesageLienHe</p>
                    <button class="close-btn" onclick="closePopup()">Đóng</button>
                </div>
            </div>

        }
    </center>
    <div class="contact-container">

        <div class="inquiry-form">
            <p>Gửi phản hồi cho chúng tôi.</p>
            @using (Html.BeginForm("LienHe", "MayTinh", FormMethod.Post))
            {
                <label for="noidung">Nội dung liên hệ</label>
                <textarea placeholder="Nội dung" name="noidung" required></textarea>
                <button type="submit">Gửi</button>
            }
        </div>

        <div class="contact-info">
            <h2 style="text-align: center; margin-bottom: 35px;">ĐỊA CHỈ</h2>
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.062458818296!2d106.62637497451752!3d10.806528358638806!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752be2853ce7cd%3A0x4111b3b3c2aca14a!2zMTQwIMSQLiBMw6ogVHLhu41uZyBU4bqlbiwgVMOieSBUaOG6oW5oLCBUw6JuIFBow7osIEjhu5MgQ2jDrSBNaW5oLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2s!4v1730812542245!5m2!1svi!2s"
                    width="100%" height="500" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            <a href=@Url.Action("Maps", "MayTinh")>
                <i class="fas fa-power-off">
                </i>
                Xem toàn bộ bản đồ
            </a>
            <p><strong>HUIT Office</strong></p>
            <p>140 Lê Trọng Tấn, Phường Tây Thạnh, Quận Tân Phú, TP.Hồ Chí Minh</p>
            <p><strong>Phone:</strong> <a href="tel:0388285455">0919361162</a></p>
            <p><strong>Email:</strong> <a href="mailto:longhoang192009@gamil.com">longlyly1923@gmail.com</a></p>
        </div>
    </div>
    <script>
        function showPopup() {
            document.getElementById("popupOverlay").style.display = "flex";
        }

        function closePopup() {
            document.getElementById("popupOverlay").style.display = "none";
        }

        window.onload = showPopup;
    </script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <script>
    $(document).ready(function () {
        // Mảng chứa tên các file ảnh lá phong (đặt trong thư mục Images)
        var leafImages = ['laphong.png', 'laphong.png', 'laphong.png'];

        function createLeaf() {
            var leafSrc = '@Url.Content("~/Images/")' + leafImages[Math.floor(Math.random() * leafImages.length)];
            var $leaf = $('<img class="falling-leaf" src="' + leafSrc + '">');

            // Đặt vị trí ban đầu ngẫu nhiên theo chiều ngang và độ trong suốt
            var startLeft = Math.random() * $(window).width();
            $leaf.css({
                top: '-50px',
                left: startLeft,
                opacity: Math.random() * 0.5 + 0.5 // độ mờ từ 0.5 đến 1
            });

            // Thêm lá vào body
            $('body').append($leaf);

            // Tính toán thời gian rơi và độ lệch ngang (tạo hiệu ứng xoay quanh)
            var duration = Math.random() * 5000 + 5000; // thời gian từ 5 đến 10 giây
            var endLeft = startLeft + (Math.random() * 100 - 50);

            // Animate lá từ trên xuống dưới
            $leaf.animate({
                top: $(window).height() + 50,
                left: endLeft
            }, duration, 'linear', function () {
                // Sau khi animation hoàn thành, loại bỏ lá
                $(this).remove();
            });
        }

        // Tạo lá mới mỗi 500 mili giây (có thể điều chỉnh khoảng thời gian nếu cần)
        setInterval(createLeaf, 500);
    });
    </script>
</body>

</html>